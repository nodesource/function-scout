# function-scout [![build status](https://secure.travis-ci.org/nodesource/function-scout.png)](http://travis-ci.org/nodesource/function-scout)

Scouts all functions of a given object and provides data about their origin.

```js
    function inspect(obj, depth) {
      console.error(require('util').inspect(obj, false, depth || 5, true))
    }

    const path = require('path')
    const scout = require('function-scout')

    const res = scout(path.basename, { mutate: true })
    inspect(res)
```

```js
{ scouted:
  FunctionOrigin {
    file: 'path.js',
    line: 1354,
    column: 29,
    inferredName: '',
    name: 'basename' },
  functions:
  [ { path: [],
      key: undefined,
      level: 0,
      info:
        FunctionOrigin {
          file: 'path.js',
          line: 1354,
          column: 29,
          inferredName: '',
          name: 'basename' } } ] }
```

Also see the full [`fs.createReadStream` example](examples/readStream.js)

## Installation

    npm install function-scout

## [API](https://nodesource.github.io/function-scout)

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### functionScout

Scouts all functions in the provided object by traversing it.

It returns an array of all functions found as `functions` and
the cloned object with all functions replaced with their information
as `scouted`

A `functions` value looks like this:

     { path: [ '_events', 'end', '1' ],
       key: '1',
       level: 3,
       info:
       FunctionOrigin {
         file: '/Volumes/d/dev/js/async-hooks/function-scout/examples/readStream.js',
         line: 10,
         column: 14,
         inferredName: '',
         name: 'onend' } }

The `level, path` and `key` provide information about where in the object each
function was found.

The `scouted` functions look the same except they don't have any `level, path, key`
information since they are still attached to the object.
The `scouted` object only is returned if `mutate=true` and has the resolved functions
attached to the paths of the object at which they were originally found.
By default `mutate=false` and thus only `functions` are returned.

**Parameters**

-   `object` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** the object which functions to scout
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** configure how functions are scouted
    -   `$0.mutate` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)?** if `true` the `object` is cloned and then
        the are functions replaced with the scouted versions on the returned
        `scouted` object. (optional, default `false`)

Returns **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** with properties `scouted` (if `mutate=true`) and
`functions` explained above

## License

MIT
